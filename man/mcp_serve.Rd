% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/mcp.R
\name{mcp_serve}
\alias{mcp_serve}
\title{Start Census Chat as an MCP Server}
\usage{
mcp_serve()
}
\value{
This function does not return; it blocks while serving requests.
}
\description{
Runs censuschat as a Model Context Protocol (MCP) server for use with
Claude Desktop, Claude Code, or other MCP-compatible clients.
}
\details{
This function is \strong{not meant to be run interactively}. Instead, configure
your MCP client to launch it. The server exposes Census data tools that
Claude can use to answer questions about U.S. Census data.

\strong{Advantage over \code{census_chat()}}: When using the MCP server with Claude
Desktop, the LLM inference uses your Claude subscription (Pro, Max, etc.)
rather than requiring a pay-per-use API key.
\subsection{Setup for Claude Desktop}{

Add to your \code{claude_desktop_config.json}:

\if{html}{\out{<div class="sourceCode json">}}\preformatted{\{
  "mcpServers": \{
    "censuschat": \{
      "command": "Rscript",
      "args": ["-e", "censuschat::mcp_serve()"]
    \}
  \}
\}
}\if{html}{\out{</div>}}

On macOS, this file is at:
\verb{~/Library/Application Support/Claude/claude_desktop_config.json}

On Windows, this file is at:
\verb{\%APPDATA\%\\Claude\\claude_desktop_config.json}
}

\subsection{Setup for Claude Code}{

Run in your terminal:

\if{html}{\out{<div class="sourceCode bash">}}\preformatted{claude mcp add censuschat -- Rscript -e "censuschat::mcp_serve()"
}\if{html}{\out{</div>}}
}

\subsection{Environment Variables}{

Make sure \code{CENSUS_API_KEY} is set in your environment (e.g., in \code{.Renviron}).
Get a free key at \url{https://api.census.gov/data/key_signup.html}.
}
}
\seealso{
\code{\link[=census_chat]{census_chat()}} for interactive use with pay-per-use API,
\code{\link[=census_tools]{census_tools()}} for the underlying tool definitions
}
